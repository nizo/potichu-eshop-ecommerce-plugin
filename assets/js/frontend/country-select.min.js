jQuery(function(t){if("undefined"==typeof wc_country_select_params)return!1;var e=wc_country_select_params.countries.replace(/&quot;/g,'"'),i=t.parseJSON(e);t("select.country_to_state, input.country_to_state").change(function(){var e=t(this).val(),s=t(this).closest("div").find("#billing_state, #shipping_state, #calc_shipping_state"),n=s.parent(),a=s.attr("name"),c=s.attr("id"),o=s.val(),r=s.attr("placeholder");if(i[e])if(0===i[e].length)s.parent().hide().find(".chosen-container").remove(),s.replaceWith('<input type="hidden" class="hidden" name="'+a+'" id="'+c+'" value="" placeholder="'+r+'" />'),t("body").trigger("country_to_state_changed",[e,t(this).closest("div")]);else{var l="",h=i[e];for(var p in h)h.hasOwnProperty(p)&&(l=l+'<option value="'+p+'">'+h[p]+"</option>");s.parent().show(),s.is("input")&&(s.replaceWith('<select name="'+a+'" id="'+c+'" class="state_select" placeholder="'+r+'"></select>'),s=t(this).closest("div").find("#billing_state, #shipping_state, #calc_shipping_state")),s.html('<option value="">'+wc_country_select_params.i18n_select_state_text+"</option>"+l),s.val(o),t("body").trigger("country_to_state_changed",[e,t(this).closest("div")])}else s.is("select")?(n.show().find(".chosen-container").remove(),s.replaceWith('<input type="text" class="input-text" name="'+a+'" id="'+c+'" placeholder="'+r+'" />'),t("body").trigger("country_to_state_changed",[e,t(this).closest("div")])):s.is(".hidden")&&(n.show().find(".chosen-container").remove(),s.replaceWith('<input type="text" class="input-text" name="'+a+'" id="'+c+'" placeholder="'+r+'" />'),t("body").trigger("country_to_state_changed",[e,t(this).closest("div")]));t("body").trigger("country_to_state_changing",[e,t(this).closest("div")])}).change()});